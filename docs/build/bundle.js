var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let c,s;function l(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function u(t){let n;return l(t,(t=>n=t))(),n}function a(t,n,e){t.$$.on_destroy.push(l(n,e))}function f(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function d(t){t.parentNode.removeChild(t)}function h(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function $(){return g(" ")}function v(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function w(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function y(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function b(t){s=t}const T=[],x=[],E=[],S=[],_=Promise.resolve();let k=!1;function L(t){E.push(t)}const N=new Set;let C=0;function H(){const t=s;do{for(;C<T.length;){const t=T[C];C++,b(t),A(t.$$)}for(b(null),T.length=0,C=0;x.length;)x.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];N.has(n)||(N.add(n),n())}E.length=0}while(T.length);for(;S.length;)S.pop()();k=!1,N.clear(),b(t)}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(L)}}const O=new Set;let j;function F(){j={r:0,c:[],p:j}}function G(){j.r||o(j.c),j=j.p}function D(t,n){t&&t.i&&(O.delete(t),t.i(n))}function P(t,n,e,o){if(t&&t.o){if(O.has(t))return;O.add(t),j.c.push((()=>{O.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function M(t){t&&t.c()}function V(t,e,i,c){const{fragment:s,on_mount:l,on_destroy:u,after_update:a}=t.$$;s&&s.m(e,i),c||L((()=>{const e=l.map(n).filter(r);u?u.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(L)}function z(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function B(t,n){-1===t.$$.dirty[0]&&(T.push(t),k||(k=!0,_.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function J(n,r,i,c,l,u,a,f=[-1]){const m=s;b(n);const h=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(m?m.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||m.$$.root};a&&a(h.root);let p=!1;if(h.ctx=i?i(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&l(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&B(n,t)),e})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(d)}else h.fragment&&h.fragment.c();r.intro&&D(n.$$.fragment),V(n,r.target,r.anchor,r.customElement),H()}b(m)}class R{$destroy(){z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const W=[];function q(n,e=t){let o;const r=new Set;function c(t){if(i(n,t)&&(n=t,o)){const t=!W.length;for(const t of r)t[1](),W.push(t,n);if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(i,s=t){const l=[i,s];return r.add(l),1===r.size&&(o=e(c)||t),i(n),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}const I=q("<VariableNomDuJeu>"),K=q();function Q(n){let e,i,c,s,l,u,a,h,b,T,x,E,S;return{c(){e=p("div"),i=p("h1"),c=g(n[0]),s=$(),l=p("h2"),u=p("button"),u.textContent="Jouer",a=$(),h=p("div"),b=p("button"),b.textContent="Succès",T=$(),x=p("button"),x.textContent="Paramètres",w(e,"class","main")},m(t,o){m(t,e,o),f(e,i),f(i,c),f(e,s),f(e,l),f(l,u),f(e,a),f(e,h),f(h,b),f(h,T),f(h,x),E||(S=[v(u,"click",(function(){r(n[1].transitionToLevelSelection())&&n[1].transitionToLevelSelection().apply(this,arguments)})),v(b,"click",(function(){r(n[1].transitionToAchievements())&&n[1].transitionToAchievements().apply(this,arguments)})),v(x,"click",(function(){r(n[1].transitionToSettings())&&n[1].transitionToSettings().apply(this,arguments)}))],E=!0)},p(t,[e]){n=t,1&e&&y(c,n[0])},i:t,o:t,d(t){t&&d(e),E=!1,o(S)}}}function U(t,n,e){let o,r;return a(t,I,(t=>e(0,o=t))),a(t,K,(t=>e(1,r=t))),[o,r]}class X extends R{constructor(t){super(),J(this,t,U,Q,i,{})}}function Y(t,n,e){const o=t.slice();return o[2]=n[e],o}function Z(t){let n,e,o,i,s,l,u,a,h,y,b=t[2]+"";return{c(){var t,r;n=p("div"),e=p("img"),i=$(),s=p("button"),l=g("Niveau "),u=g(b),a=$(),t=e.src,r=o="",c||(c=document.createElement("a")),c.href=r,t!==c.href&&w(e,"src",""),w(e,"alt",""),w(n,"class","level")},m(o,c){m(o,n,c),f(n,e),f(n,i),f(n,s),f(s,l),f(s,u),f(n,a),h||(y=v(s,"click",(function(){r(t[0].transitionToGame(t[2]))&&t[0].transitionToGame(t[2]).apply(this,arguments)})),h=!0)},p(n,e){t=n},d(t){t&&d(n),h=!1,y()}}}function tt(n){let e,o,r=n[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Z(Y(n,r,t));return{c(){e=p("div"),o=p("div");for(let t=0;t<i.length;t+=1)i[t].c();w(o,"class","levels"),w(e,"class","main")},m(t,n){m(t,e,n),f(e,o);for(let t=0;t<i.length;t+=1)i[t].m(o,null)},p(t,[n]){if(3&n){let e;for(r=t[1],e=0;e<r.length;e+=1){const c=Y(t,r,e);i[e]?i[e].p(c,n):(i[e]=Z(c),i[e].c(),i[e].m(o,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=r.length}},i:t,o:t,d(t){t&&d(e),h(i,t)}}}function nt(t,n,e){let o;a(t,K,(t=>e(0,o=t)));return[o,["level1",2,3,4,5,6,7,8,9,10]]}class et extends R{constructor(t){super(),J(this,t,nt,tt,i,{})}}function ot(n){let e;return{c(){e=p("h1"),e.textContent="Mdr, go finir le jeu"},m(t,n){m(t,e,n)},p:t,i:t,o:t,d(t){t&&d(e)}}}class rt extends R{constructor(t){super(),J(this,t,null,ot,i,{})}}function it(n){let e;return{c(){e=p("h1"),e.textContent="Le jeu est déjà parfait. Pas besoin de settings."},m(t,n){m(t,e,n)},p:t,i:t,o:t,d(t){t&&d(e)}}}class ct extends R{constructor(t){super(),J(this,t,null,it,i,{})}}function st(n){let e,o,i,c;return{c(){e=p("div"),o=p("button"),o.textContent="Home",w(e,"class","menu")},m(t,s){m(t,e,s),f(e,o),i||(c=v(o,"click",(function(){r(n[0].transitionToHome())&&n[0].transitionToHome().apply(this,arguments)})),i=!0)},p(t,[e]){n=t},i:t,o:t,d(t){t&&d(e),i=!1,c()}}}function lt(t,n,e){let o;return a(t,K,(t=>e(0,o=t))),[o]}class ut extends R{constructor(t){super(),J(this,t,lt,st,i,{})}}var at={level1:[{type:"dialog",content:"before 1"},{type:"dialog",content:"before 2"},{type:"dialog",content:"before 3"},{type:"game"},{type:"dialog",content:"after 1"},{type:"dialog",content:"after 2"},{type:"dialog",content:"after 3"}]};class ft{constructor(t){this.name=t.level,this.flow=[],this.advancement=0,this.complete=!1,this.load()}load(){const t=at[this.name];this.flow=[],t.forEach((t=>{"dialog"===t.type&&this.flow.push(new mt(t))}))}currentFlowType(){return this.flow[this.advancement].type}advance(){this.advancement+=1}isComplete(){if(this.flow.length-1<this.advancement)return!0}}class mt extends class{constructor(t){this.type=t.type}}{constructor(t){super(t),this.content=t.content}}function dt(n){let e,o,r,i=n[0].content+"";return{c(){e=p("h1"),o=g("Dialog : "),r=g(i)},m(t,n){m(t,e,n),f(e,o),f(e,r)},p(t,[n]){1&n&&i!==(i=t[0].content+"")&&y(r,i)},i:t,o:t,d(t){t&&d(e)}}}function ht(t,n,e){let{dialog:o}=n;return t.$$set=t=>{"dialog"in t&&e(0,o=t.dialog)},[o]}class pt extends R{constructor(t){super(),J(this,t,ht,dt,i,{dialog:0})}}function gt(t,n,e){const o=t.slice();return o[4]=n[e],o}function $t(t){let n,e;return n=new pt({props:{dialog:t[4]}}),{c(){M(n.$$.fragment)},m(t,o){V(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.dialog=t[4]),n.$set(o)},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function vt(t){let n,e,o="dialog"===t[4].type&&$t(t);return{c(){o&&o.c(),n=g("")},m(t,r){o&&o.m(t,r),m(t,n,r),e=!0},p(t,e){"dialog"===t[4].type?o?(o.p(t,e),1&e&&D(o,1)):(o=$t(t),o.c(),D(o,1),o.m(n.parentNode,n)):o&&(F(),P(o,1,1,(()=>{o=null})),G())},i(t){e||(D(o),e=!0)},o(t){P(o),e=!1},d(t){o&&o.d(t),t&&d(n)}}}function wt(n){let e,o,r,i=["dialog"].includes(n[1].currentFlowType()),c=n[0],s=[];for(let t=0;t<c.length;t+=1)s[t]=vt(gt(n,c,t));const l=t=>P(s[t],1,1,(()=>{s[t]=null}));let u=i&&function(n){let e,o,r;return{c(){e=p("button"),e.textContent="Okay."},m(t,i){m(t,e,i),o||(r=v(e,"click",n[2]),o=!0)},p:t,d(t){t&&d(e),o=!1,r()}}}(n);return{c(){e=p("main");for(let t=0;t<s.length;t+=1)s[t].c();o=$(),u&&u.c()},m(t,n){m(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null);f(e,o),u&&u.m(e,null),r=!0},p(t,[n]){if(1&n){let r;for(c=t[0],r=0;r<c.length;r+=1){const i=gt(t,c,r);s[r]?(s[r].p(i,n),D(s[r],1)):(s[r]=vt(i),s[r].c(),D(s[r],1),s[r].m(e,o))}for(F(),r=c.length;r<s.length;r+=1)l(r);G()}i&&u.p(t,n)},i(t){if(!r){for(let t=0;t<c.length;t+=1)D(s[t]);r=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)P(s[t]);r=!1},d(t){t&&d(e),h(s,t),u&&u.d()}}}function yt(t,n,e){let o=new ft(u(K)),r=[];function i(){e(0,r=o.flow.filter(((t,n)=>!(n>o.advancement))))}return i(),[r,o,function(){o.advance(),i(),o.isComplete()&&u(K).transitionToLevelSelection(!0)}]}class bt extends R{constructor(t){super(),J(this,t,yt,wt,i,{})}}class Tt{constructor(t){this.name=t}transitionToLevelSelection(){throw Error("Not implemented")}transitionToSettings(){throw Error("Not implemented")}transitionToAchievements(){throw Error("Not implemented")}transitionToHome(){throw Error("Not implemented")}transitionToGame(){throw Error("Not implemented")}}class xt extends Tt{constructor(){super("home")}transitionToLevelSelection(){K.set(new Et)}transitionToSettings(){K.set(new St)}transitionToAchievements(){K.set(new _t)}transitionToHome(){}}class Et extends Tt{constructor(){super("levelSelection")}transitionToHome(){K.set(new xt)}transitionToLevelSelection(){}transitionToGame(t){console.log("Transition to level "+t),K.set(new kt(t))}}class St extends Tt{constructor(){super("settings")}transitionToHome(){K.set(new xt)}transitionToSettings(){}}class _t extends Tt{constructor(){super("achievements")}transitionToHome(){K.set(new xt)}transitionToAchievements(){}}class kt extends Tt{constructor(t){super("gameFlow"),this.level=t}transitionToHome(){K.set(new xt),console.log("WE NEED TO SAVE HERE !!!")}transitionToGame(){}transitionToLevelSelection(t=!1){K.set(new Et),console.log("WE NEED TO COMPLETE THE LEVEL HERE !!!")}}function Lt(t){let n,e;return n=new X({}),{c(){M(n.$$.fragment)},m(t,o){V(n,t,o),e=!0},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function Nt(t){let n,e;return n=new et({}),{c(){M(n.$$.fragment)},m(t,o){V(n,t,o),e=!0},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function Ct(t){let n,e;return n=new rt({}),{c(){M(n.$$.fragment)},m(t,o){V(n,t,o),e=!0},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function Ht(t){let n,e;return n=new ct({}),{c(){M(n.$$.fragment)},m(t,o){V(n,t,o),e=!0},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function At(t){let n,e;return n=new bt({}),{c(){M(n.$$.fragment)},m(t,o){V(n,t,o),e=!0},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function Ot(t){let n,e,o,r,i,c,s,l;e=new ut({});let u="home"===t[0].name&&Lt(),a="levelSelection"===t[0].name&&Nt(),h="achievements"===t[0].name&&Ct(),g="settings"===t[0].name&&Ht(),v="gameFlow"===t[0].name&&At();return{c(){n=p("main"),M(e.$$.fragment),o=$(),u&&u.c(),r=$(),a&&a.c(),i=$(),h&&h.c(),c=$(),g&&g.c(),s=$(),v&&v.c(),w(n,"class","svelte-177t831")},m(t,d){m(t,n,d),V(e,n,null),f(n,o),u&&u.m(n,null),f(n,r),a&&a.m(n,null),f(n,i),h&&h.m(n,null),f(n,c),g&&g.m(n,null),f(n,s),v&&v.m(n,null),l=!0},p(t,[e]){"home"===t[0].name?u?1&e&&D(u,1):(u=Lt(),u.c(),D(u,1),u.m(n,r)):u&&(F(),P(u,1,1,(()=>{u=null})),G()),"levelSelection"===t[0].name?a?1&e&&D(a,1):(a=Nt(),a.c(),D(a,1),a.m(n,i)):a&&(F(),P(a,1,1,(()=>{a=null})),G()),"achievements"===t[0].name?h?1&e&&D(h,1):(h=Ct(),h.c(),D(h,1),h.m(n,c)):h&&(F(),P(h,1,1,(()=>{h=null})),G()),"settings"===t[0].name?g?1&e&&D(g,1):(g=Ht(),g.c(),D(g,1),g.m(n,s)):g&&(F(),P(g,1,1,(()=>{g=null})),G()),"gameFlow"===t[0].name?v?1&e&&D(v,1):(v=At(),v.c(),D(v,1),v.m(n,null)):v&&(F(),P(v,1,1,(()=>{v=null})),G())},i(t){l||(D(e.$$.fragment,t),D(u),D(a),D(h),D(g),D(v),l=!0)},o(t){P(e.$$.fragment,t),P(u),P(a),P(h),P(g),P(v),l=!1},d(t){t&&d(n),z(e),u&&u.d(),a&&a.d(),h&&h.d(),g&&g.d(),v&&v.d()}}}function jt(t,n,e){let o;return a(t,K,(t=>e(0,o=t))),K.set(new xt),[o]}return new class extends R{constructor(t){super(),J(this,t,jt,Ot,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
